<Window x:Class="ArethruNotifier.MainWindow"
        xmlns:my="clr-namespace:ArethruNotifier"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Twitch Notifier" Height="100" Width="100" StateChanged="Window_StateChanged" KeyDown="Window_KeyDown">

    <Window.Resources>
        <SolidColorBrush x:Key="Color_Panel1" Color="#FF3A3A3A" />
        <SolidColorBrush x:Key="Color_Panel2" Color="#FF575757" />
        <SolidColorBrush x:Key="Color_ActivePurple" Color="#FF891290" />
        <SolidColorBrush x:Key="Color_DefaultText" Color="White" />
        <Color x:Key="Col_DefaultText" R="255" G="255" B="255" A="33" ScA="123" ScB="123" ScG="123" ScR="123" />
        <SolidColorBrush x:Key="Color_CustomBtnBG" Color="Gray" />

        <Style x:Key="StandardText" TargetType="{x:Type TextBlock}" BasedOn="{x:Null}">
            <Setter Property="Foreground" Value="{StaticResource Color_DefaultText}" />
            <Setter Property="Margin" Value="1,0,9,0" />
            <Setter Property="Cursor" Value="Help" />
            <Setter Property="ToolTipService.ShowDuration" Value="99999" />
        </Style>

        <Style x:Key="DefaultButton" TargetType="{x:Type Button}">
            <Setter Property="OverridesDefaultStyle" Value="True" />
            <Setter Property="MinHeight" Value="1" />
            <Setter Property="MinWidth" Value="1" />
            <Setter Property="Foreground" Value="{StaticResource Color_DefaultText}" />
            <Setter Property="SnapsToDevicePixels" Value="True" />
            <Setter Property="Margin" Value="3,1" />

            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border TextBlock.Foreground="{TemplateBinding Foreground}" x:Name="Border"
                CornerRadius="2" BorderThickness="1">
                            <Border.Background>
                                <SolidColorBrush Color="Gray" />
                            </Border.Background>

                            <Border.BorderBrush>
                                <SolidColorBrush Color="White" />
                            </Border.BorderBrush>

                            <ContentPresenter Margin="2"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            RecognizesAccessKey="True" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid Background="{StaticResource Color_Panel1}">
        <!--NavBar-->
        <Border BorderThickness="0,2" CornerRadius="3" Background="{StaticResource Color_Panel2}" BorderBrush="Black" Margin="0,0,0,9" Height="34" VerticalAlignment="Top" Padding="0">
            <WrapPanel x:Name="HeaderPanel" Height="28" Width="180" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0">
                <WrapPanel Margin="9,0" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <TextBlock x:Name="btn_Follows" Text="Follows" FontFamily="Impact" FontSize="20" Foreground="White" MouseDown="btn_Follows_MouseDown" >
                        <TextBlock.Effect>
                            <DropShadowEffect RenderingBias="Quality" Direction="300" ShadowDepth="3" BlurRadius="10"/>
                        </TextBlock.Effect>
                    </TextBlock>
                </WrapPanel>
                <WrapPanel Margin="9,0" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <TextBlock x:Name="btn_Settings" Text="Settings" FontSize="20" FontFamily="Impact" Foreground="White" MouseDown="btn_Settings_MouseDown" >
                        <TextBlock.Effect>
                            <DropShadowEffect BlurRadius="10" Direction="300" RenderingBias="Quality" ShadowDepth="3"/>
                        </TextBlock.Effect>
                    </TextBlock>
                </WrapPanel>
            </WrapPanel>
        </Border>
        <!--/NavBar-->

        <!--Content-->
        <Grid Margin="0,40,0,0">

            <!--Follows-->
            <ScrollViewer  x:Name="FollowPanel" Visibility="Hidden">
                <StackPanel>
                    <ItemsControl x:Name="FollowsList" HorizontalContentAlignment="Stretch">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <WrapPanel />
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>

                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border BorderBrush="{DynamicResource Color_DefaultText}" BorderThickness="1" Width="200" Height="45" CornerRadius="2" Margin="4">
                                    <DockPanel HorizontalAlignment="Stretch" VerticalAlignment="Center">
                                        <Image Source="{Binding Channel.Logo}" Width="45" Height="45" SnapsToDevicePixels="True" />
                                        <TextBlock Text="{Binding Channel.Name}" ToolTip="{Binding Channel.Name}" Background="{x:Null}" Foreground="{DynamicResource Color_DefaultText}" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="5,0,0,0" MaxWidth="100" MinWidth="10" />

                                        <StackPanel DockPanel.Dock="Right" HorizontalAlignment="Right">
                                            <TextBlock Text="Live!" Foreground="Red" Margin="0,3,3,0" HorizontalAlignment="Right" />
                                            <TextBlock Text="Profile" Foreground="{StaticResource Color_DefaultText}" HorizontalAlignment="Stretch" 
                                                   Margin="0,3,3,0" ToolTip="{Binding Channel.Url_Profile}" MouseDown="Hyperlink_Click" 
                                                   TextDecorations="Underline" Cursor="Hand" />
                                        </StackPanel>
                                    </DockPanel>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>

                    <ItemsControl x:Name="FollowsList2" HorizontalContentAlignment="Stretch">
                        <ItemsControl.ItemsPanel>
                            <ItemsPanelTemplate>
                                <WrapPanel />
                            </ItemsPanelTemplate>
                        </ItemsControl.ItemsPanel>

                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border BorderBrush="{DynamicResource Color_DefaultText}" BorderThickness="1" Width="200" Height="45" CornerRadius="2" Margin="4">
                                    <DockPanel HorizontalAlignment="Stretch" VerticalAlignment="Center">
                                        <Image Source="{Binding Channel.Logo}" Width="45" Height="45" SnapsToDevicePixels="True" />
                                        <TextBlock Text="{Binding Channel.Name}" ToolTip="{Binding Channel.Name}" Background="{x:Null}" Foreground="{DynamicResource Color_DefaultText}" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="5,0,0,0" MaxWidth="100" MinWidth="10" />

                                        <TextBlock Text="Profile" Foreground="{StaticResource Color_DefaultText}" HorizontalAlignment="Right" 
                                                   Margin="0,3,3,0" ToolTip="{Binding Channel.Url_Profile}" MouseDown="Hyperlink_Click" 
                                                   TextDecorations="Underline" Cursor="Hand" DockPanel.Dock="Right" />
                                    </DockPanel>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </StackPanel>
            </ScrollViewer>
            <!--/Follows-->


            <!--Settings-->
            <StackPanel x:Name="SettingsPanel" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0" Visibility="Hidden">
                <WrapPanel HorizontalAlignment="Center">
                    <Button x:Name="btnAuth" Content="Authorize" Style="{StaticResource DefaultButton}" Click="btnAuth_Click" />
                    <Button x:Name="btnDeAuth" Style="{DynamicResource DefaultButton}" Content="Deauthorize" Click="btnDeAuth_Click" />
                </WrapPanel>
                <Separator Margin="0,9" Width="200" />
                <WrapPanel Margin="0,0,0,9" HorizontalAlignment="Center">
                    <TextBlock Style="{StaticResource StandardText}" Text="User Token" 
                               ToolTip="Fetched upon a succesful Authorization. &#10;Complete the browser login and you will be directed &#10;to a site that does not exist. Not to worry though, because you should be able to close &#10;the browser and return here to see a unique key displayed in this box. &#10;Hit save and restart the application, and you are done." 
                               />
                    <TextBox x:Name="inputUsertoken" Width="200" />
                    <Button x:Name="btnTokSave" Style="{DynamicResource DefaultButton}" Content="Save" Click="btnTokSave_Click" />
                </WrapPanel>
                <WrapPanel Margin="0,0,0,9" HorizontalAlignment="Center">
                    <TextBlock Style="{StaticResource StandardText}" Text="Update Frequency"
                               ToolTip="This is how often in seconds, that the application should contact the twitch servers &#10;to check for updates." />
                    <TextBox x:Name="boxUpdFreq" Width="38" PreviewTextInput="PreviewInputBoxNumbers" KeyDown="boxUpdFreq_KeyDown" />
                </WrapPanel>
                <WrapPanel HorizontalAlignment="Center" Margin="0,0,0,9">
                    <TextBlock Style="{StaticResource StandardText}" Text="Notification Display Time"
                               ToolTip="This is how long in seconds, the popup/notification window should stay up before automatically closing down."/>
                    <TextBox x:Name="boxPopTime" Width="38" PreviewTextInput="PreviewInputBoxNumbers" KeyDown="boxPopTime_KeyDown" />
                </WrapPanel>
                <WrapPanel Margin="0,0,0,9" HorizontalAlignment="Center">
                    <TextBlock Style="{StaticResource StandardText}" Text="Network on/off" 
                               ToolTip="Restart required upon change. This disables the timed thread that periodically contacts the twitch servers. &#10;Should always be checked." />
                    <CheckBox x:Name="chkUpd" Margin="0,3,0,0" Click="chkUpd_Checked" />
                </WrapPanel>
                <WrapPanel Margin="0,0,0,9" HorizontalAlignment="Center">
                    <TextBlock Style="{StaticResource StandardText}" Text="Start with Windows"
                               ToolTip="Adds a key/value pair to the windows registry startup run folder"/>
                    <CheckBox x:Name="chkWin" Margin="0,3,0,0" Click="chkWin_Checked" />
                </WrapPanel>
                <WrapPanel Margin="0,0,0,9" HorizontalAlignment="Center">
                    <TextBlock Style="{StaticResource StandardText}" Text="Start Minimized"
                               ToolTip="'Where's the window!?' &#10;That's right. The bottom right of your screen, with the other trayicons"/>
                    <CheckBox x:Name="chkMin" Margin="0,3,0,0" Click="chkMin_Checked" />
                </WrapPanel>
                <WrapPanel Margin="0,0,0,9" HorizontalAlignment="Center">
                    <TextBlock Style="{StaticResource StandardText}" Text="Sound on/off" 
                               ToolTip="Checked for sound, unchecked for silence. Can also be controlled from the trayicon. &#10;The sound can be whatever you want, as long as it is a Waveform Audio File."/>
                    <CheckBox x:Name="chkSound" Margin="0,3,0,0" Click="chkSound_Checked" />
                </WrapPanel>
                <WrapPanel Margin="0,0,0,9" HorizontalAlignment="Center">
                    <Button x:Name="btnSoundSelect" Style="{DynamicResource DefaultButton}" Content="Select Sound (.wav)" Click="btnSoundSelect_Click" />
                </WrapPanel>
                <WrapPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                    <TextBlock Text="Monitor" Style="{StaticResource StandardText}" Margin="0,0,5,0" 
                               ToolTip="For systems utilizing multiple monitors. Select which monitor the popup/notification window should appear on. &#10;Indexing starts at 0 for the primary screen."/>
                    <ComboBox x:Name="dropMonitorSelect" SelectionChanged="dropMonitorSelect_SelectionChanged" Margin="0,0,0,5" />
                </WrapPanel>
                <Separator Margin="0,0,0,9"></Separator>
                <WrapPanel Margin="0,0,0,9" HorizontalAlignment="Center">
                    <Button x:Name="btnRestart" Style="{DynamicResource DefaultButton}" Content="Restart Application" Click="btnRestart_Click" />
                    <Button x:Name="btnInstallPath" Style="{DynamicResource DefaultButton}" Content="Install Folder" Click="btnInstallPath_Click" />
                    <Button x:Name="btnConfigEdit" Style="{DynamicResource DefaultButton}" Content="Direct Config Edit" Click="btnConfigEdit_Click" />
                </WrapPanel>
                <TextBlock Style="{StaticResource StandardText}" Text="General controls and hints*" FontSize="10" HorizontalAlignment="Center"
                           ToolTip="The application minimizes into a trayicon. These are the small icons typically found
                           &#10;in the bottom right of the screen.
                           &#10;Trayicon controls:
                           &#10; - Left click displays a window for 10 seconds, with the last updated data
                           &#10; - Middle click opens the main window
                           &#10; - Right click opens the context menu
                           &#10;
                           &#10;F12 for the ui console
                           &#10;
                           &#10;Direct Config Edit should not be nescessary, but it is a textfile that shows
                           &#10;all the info this app stores. Nothing is stored anywhere else besides the key
                           &#10;added to the registry" />
            </StackPanel>
            <!--/Setting-->

            <Grid x:Name="ConsolePanel" Visibility="Hidden">
                <RichTextBox x:Name="DevConsoleOutput" IsReadOnly="True" Margin="0,0,0,26" VerticalScrollBarVisibility="Visible">
                    <RichTextBox.Resources>
                        <Style TargetType="{x:Type Paragraph}">
                            <Setter Property="Margin" Value="0" />
                        </Style>
                    </RichTextBox.Resources>
                </RichTextBox>
                <TextBox x:Name="DevConsoleInput" Height="22" KeyDown="DevConsoleInput_KeyDown" VerticalAlignment="Bottom" Margin="0,0,0,2" />
            </Grid>
        </Grid>
    </Grid>
</Window>
